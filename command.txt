2

2.1 Writing a Dockerfile

# Use an official Python runtime as the base image
FROM python:3.12-rc-bookworm

# Set the working directory in the container to /app
WORKDIR /app

# Copy the current directory contents into the container at /app
COPY . /app

# Install the required packages
# requirements.txt Flask==2.3.3
RUN pip install --no-cache-dir -r requirements.txt

# Set the environment variable for Flask
ENV FLASK_APP=app.py

# Run the command to start the Flask application
CMD ["flask", "run", "--host=0.0.0.0"]

2.1 Building a Docker image from Dockerfile

docker build [OPTIONS] PATH | URL | -

docker build .

docker build -f [dockerfile] .

docker build --force-rm=true .

docker build --rm=true .

docker build --no-cache .

docker build --help

3 Pulling and Pushing Docker Images

3.1 Searching for images in Docker Hub

docker search python

docker search --filter is-official=true python

docker image pull python

https://hub.docker.com/_/python

docker image pull python:3.12-rc-bookworm

docker image pull --help

3.2 Working with custom images

docker image ls [OPTIONS] [REPOSITORY[:TAG]]

docker image ls --all

docker image ls --no-trunc

docker image ls --help

https://docs.docker.com/engine/reference/commandline/image_ls/


3.3 Tagging and labeling images

docker build -t SOURCE_IMAGE[:TAG] .

Tags and labels are used to organize your Docker images.
Tags are used to identify distinct versions of an image.
It is common practice to use tags to mark each release so users can select between different versions.

The industry standard is the version followed by the operating system or other key dependency.
This helps to differentiate between versions when multiple versions of an image are available. 
C:\Users\bookl\Downloads\Lynda\docker-project-1>docker image ls
REPOSITORY                       TAG                IMAGE ID       CREATED       SIZE
mcr.microsoft.com/mssql/server   2022-latest        c8ee7fc75b30   7 weeks ago   1.61GB
python                           3.12-rc-bookworm   09413d6829e4   2 years ago   1.02GB


Another way to keep your images organized is using the label instruction in your Docker file. This allows you to add metadata to an image using key value pairs.

# Add labels to the image
# LABEL Formatting Option 1
LABEL "com.example.vendor"="Big Star Collectibles"
LABEL version="1.0"
LABEL description="The Big Star Collectibles Website \
using the Python base image."

# LABEL Formatting Option 2
LABEL "com.example.vendor"="Big Star Collectibles" version="1.0" description="The Big Star Collectibles Website \
using the Python base image."

Tagging and labeling images are crucial to keep your images organized.
This is especially useful for managing images in a repository, which we'll do next.

3.4 Working with a private image repository

https://hub.docker.com/

docker login

3.5 Inspecting images

docker image ls

docker image inspect IMAGE_ID

3.6 Removing images

docker rmi IMAGE_ID

C:\Users\bookl\Downloads\Lynda\docker-project-1>docker rmi a58f462c8e14
Deleted: sha256:a58f462c8e14220fe01f899a85c4bdafec6f6709a0d21a249cca25c0f3d35a51

C:\Users\bookl\Downloads\Lynda\docker-project-1>docker image ls
REPOSITORY                       TAG                IMAGE ID       CREATED       SIZE
python                           latest             76a545d97be5   9 days ago    1.12GB
python                           3.12-rc-bookworm   09413d6829e4   2 years ago   1.02GB